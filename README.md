# Minimalistic Web Editor for Dart
This client/server application allows users to try Dart in a browser without installing any tool.

## Screenshots
(TODO)

## Where to start ?
Before starting the server you need to modify the 5 constants in the file lib/src/server.dart, using the appropriate values.

If you planned to put the static files  (web\_editor.css, web\_editor.html, web\_editor.dart.js and web\_editor.dart) on a different 
server or launch the client part from DartEditor, you need to modify the constant SERVER\_URL in the file web/web\_editor.dart.

Don't forget to recompile into Javascript the file web\_editor.dart if you make any change.

## Starting the server and using the application
  * Execute the file lib/src/server.dart
  * In your browser enter the URL of the application (for http://127.0.01:8080)

## REST WebServices
### Compiling
POST - /compile?env=client|server 
The source code need to be in the body of the Request.

#### env=client
Compiles the source code to Javascript
If any error is encountered, it will be part of the response, in json format (see. Errors)
Otherwise returns the name of the Javascript file generated

#### env=server
Executes the code and returns the output messages (generated by the print() function)
If any error is encountered, it will be part of the response, in json format (see. Errors)
Otherwise returns the output of the program after being executed

#### Errors
**Response**: in json format
{"lineError":x, "msg":"zzz"} where 'x' is an int and 'zzz' a string

### Getting the HTML file to display the result (env=client)
GET - /html?file=<id>
Returns a simple HTML file, pointing to the Javascript file identified by the parameter <id>

### Getting the generated js file (env=client)
GET - /prog?file=<id>
Returns the Javascript file with the name <id>

Limitations
--
  * For security reasons the 'dart:io' lib can't be used. If the string 'dart:io' is present in the source, the erver will respond by a 503 status code.
  * The client code being compiled to Javascript with dart2js, it can take few seconds before having the result displayed to the screen of the user.